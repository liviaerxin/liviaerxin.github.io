"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8337],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var o=t(96540);const i={},l=o.createContext(i);function s(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(l.Provider,{value:n},e.children)}},78264:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var o=t(96325),i=t(74848),l=t(28453);const s={authors:["frank"],tags:["Telnyx zoiper call setup"],description:"Telnyx zoiper call setup",keywords:["Telnyx zoiper call setup"],image:"https://i.imgur.com/mErPwqL.png",date:new Date("2025-06-29T00:00:00.000Z"),draft:!1,enableComments:!0},r="\ud83c\udf0d Using Telnyx + Zoiper for Canadian PSTN Calls Anywhere",a={authorsImageUrls:[void 0]},c=[{value:"\u2699\ufe0f 1. Telnyx Configuration",id:"\ufe0f-1-telnyx-configuration",level:2},{value:"\ud83d\udd10 Credential-Based SIP Connections",id:"-credential-based-sip-connections",level:3},{value:"\ud83d\udcde Outbound Voice Profile",id:"-outbound-voice-profile",level:3},{value:"\ud83d\udda5\ufe0f 2. Zoiper Softphone Setup",id:"\ufe0f-2-zoiper-softphone-setup",level:2},{value:"\ud83d\udd01 3. Testing Call Flows",id:"-3-testing-call-flows",level:2},{value:"\ud83c\udf10 4. Hybrid Mode: FQDN + Credentials (Clarified)",id:"-4-hybrid-mode-fqdn--credentials-clarified",level:2},{value:"\ud83d\udca1 5. Lessons Learned",id:"-5-lessons-learned",level:2},{value:"\ud83c\udfaf 6. Conclusion",id:"-6-conclusion",level:2}];function d(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["I am developing a voice agent outside Canada. Without my Canadian SIM, staying connected via PSTN means I rely on ",(0,i.jsx)(n.strong,{children:"VoIP softphones"})," and ",(0,i.jsx)(n.strong,{children:"Telnyx SIP trunking"}),". In this guide, I\u2019ll walk through how I set up two Canadian Telnyx numbers and used ",(0,i.jsx)(n.strong,{children:"Zoiper"})," on macOS and iOS to call between them\u2014without needing PSTN compliance."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-1-telnyx-configuration",children:"\u2699\ufe0f 1. Telnyx Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"-credential-based-sip-connections",children:"\ud83d\udd10 Credential-Based SIP Connections"}),"\n",(0,i.jsxs)(n.p,{children:["I created two separate ",(0,i.jsx)(n.strong,{children:"credential-based SIP Connections"})," in the Telnyx console, each bound to a Canadian DID:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "sip_trunk_connections": [\n    {\n      "connection_name": "livekit-trunk",\n      "connection_type": "credential",\n      "domain": "sip.telnyx.com",\n      "username": "userfrankchen9081",\n      "password": "YJhY0pg0",\n      "numbers": ["+12495304098"]\n    },\n    {\n      "connection_name": "originmind-callee",\n      "connection_type": "credential",\n      "domain": "sip.telnyx.com",\n      "username": "userfrankchen8081",\n      "password": "YJhY0pg0",\n      "numbers": ["+12495304046"]\n    }\n  ],\n  "telnyx_test_center_number": "+18004377950"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Each connection uses Credentials authentication which allows Zoiper to register and handle both inbound and outbound calls.\n\ud83d\udcd8 Telnyx docs note this is ideal for softphones needing registration and dialing ([Quickstart guide]) (developers.telnyx.com, telnyx.com)."}),"\n",(0,i.jsx)(n.h3,{id:"-outbound-voice-profile",children:"\ud83d\udcde Outbound Voice Profile"}),"\n",(0,i.jsx)(n.p,{children:"To enable outbound PSTN calls, I created an Outbound Voice Profile and attached it to each connection\u2014allowing both Zoiper clients to place calls."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-2-zoiper-softphone-setup",children:"\ud83d\udda5\ufe0f 2. Zoiper Softphone Setup"}),"\n",(0,i.jsxs)(n.p,{children:["macOS (Number A)\n\u2022 Configured using ",(0,i.jsx)(n.code,{children:"sip.telnyx.com"})," and the credentials above.\n\u2022 Adjusted STUN and rport settings for stable connectivity."]}),"\n",(0,i.jsx)(n.p,{children:"iOS (Number B)\n\u2022 Similar config, but change the following if encountering connecting problems:\n\u2022 Disabling STUN\n\u2022 Toggling rport\n\u2022 Proper codec selection\n\u2022 Noted that background registration on mobile often fails unless these settings are correct."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-3-testing-call-flows",children:"\ud83d\udd01 3. Testing Call Flows"}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 Outbound Call Testing: I called ",(0,i.jsx)(n.code,{children:"+1-800-437-7950"})," (Telnyx test center) to confirm outbound was functioning.\n\u2022 Call Between Softphones: I made calls:\n\u2022 macOS \u279c iOS\n\u2022 iOS \u279c macOS\nAll calls connected successfully."]}),"\n",(0,i.jsx)(n.p,{children:"I used Telnyx\u2019s SIP Call Flow debugging tool to inspect INVITEs, media negotiation, and responses\u2014an invaluable resource for troubleshooting."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-4-hybrid-mode-fqdn--credentials-clarified",children:"\ud83c\udf10 4. Hybrid Mode: FQDN + Credentials (Clarified)"}),"\n",(0,i.jsx)(n.p,{children:"\u26a0\ufe0f Important Correction: With a single SIP Connection set to FQDN + Credentials, inbound PSTN calls go exclusively to your FQDN endpoint, not to registered devices. Registered credentials only serve SIP-URI and outbound calls.\n\ud83d\udcd8 Official docs confirm: FQDN handles inbound routing, credentials handle registration/outbound only (developers.telnyx.com, docs.livekit.io, support.telnyx.com)."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-5-lessons-learned",children:"\ud83d\udca1 5. Lessons Learned"}),"\n",(0,i.jsx)(n.p,{children:"\u2022 Use credential-based trunks when testing with softphones.\n\u2022 On iOS Zoiper, disable STUN and tweak rport for reliable registration.\n\u2022 Leverage Telnyx debugging tools (SIP Call Flow, PCAP export) for diagnostics.\n\u2022 Don\u2019t expect DID calls to reach registered clients if the connection is FQDN+credentials only.\nFor that, stick to credentials-only or add your own proxy/forking logic."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-6-conclusion",children:"\ud83c\udfaf 6. Conclusion"}),"\n",(0,i.jsx)(n.p,{children:"With Telnyx + Zoiper, you can simulate two-way Canadian PSTN calling from anywhere in the world\u2014even without a local SIM. Credential-based SIP trunks enable full bi-directional calling through Canadian DIDs. Adding hybrid FQDN setups is powerful, but only for directing DID calls to your infrastructure\u2014not softphones."})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},96325:e=>{e.exports=JSON.parse('{"permalink":"/blog/telnyx-zoiper-call-setup","editUrl":"https://github.com/liviaerxin/liviaerxin.github.io/edit/main/_ssg/docusaurus/../../blog/telnyx-zoiper-call-setup.mdx","source":"@site/../../blog/telnyx-zoiper-call-setup.mdx","title":"\ud83c\udf0d Using Telnyx + Zoiper for Canadian PSTN Calls Anywhere","description":"Telnyx zoiper call setup","date":"2025-06-29T00:00:00.000Z","tags":[{"inline":true,"label":"Telnyx zoiper call setup","permalink":"/blog/tags/telnyx-zoiper-call-setup"}],"readingTime":2.405,"hasTruncateMarker":true,"authors":[{"name":"Frank Chen","title":"Backend & Applied ML Engineer","url":"https://github.com/liviaerxin","imageURL":"https://github.com/liviaerxin.png","key":"frank","page":null}],"frontMatter":{"authors":["frank"],"tags":["Telnyx zoiper call setup"],"description":"Telnyx zoiper call setup","keywords":["Telnyx zoiper call setup"],"image":"https://i.imgur.com/mErPwqL.png","date":"2025-06-29T00:00:00.000Z","draft":false,"enableComments":true},"unlisted":false,"prevItem":{"title":"\ud83e\udded How to Escape China\u2019s Great Firewall (GFW): 3 Effective Methods Ranked","permalink":"/blog/how-to-escape-gfw"},"nextItem":{"title":"Orchestrating DAG-based task workflow in Celery","permalink":"/blog/celery-workflow"}}')}}]);